const scenes = {
    intro1: {
        text: "Вася пришёл на завод",
        next: "intro2" 
    },
    intro2: {
        text: "Вдали проходная",
        next: "intro3" 
    },
    intro3: {
        text: "Вася слышит шелест колышащейся арматуры",
        next: "intro4" 
    },
    intro3: {
        text: "Вася достаёт фаонарик, чтобы проверить что над головой!",
        choice: [
            {text: "Игрорировать летящую арматуру", next: "smertOtArmaturi"},
            {text: "Бежать к маме плакать", next: "happy_end"}
        ]
    }
}

/* 
const scenes = {
    // === ВСТУПЛЕНИЕ: ПРИХОД НА ЗАВОД ===
    intro1: {
        text: "Раннее утро. Туман окутывает территорию завода «Северсталь».",
        next: "intro2"
    },
    intro2: {
        text: "Вася впервые приходит на работу. В руках — новенький шлем и папка с инструктажем.",
        next: "intro3"
    },
    intro3: {
        text: "Охранник у проходной: «Привет, новичок. ФИО, табельный номер, документы».",
        next: "intro4"
    },
    intro4: {
        text: "Вася: «Василий Петров, табельный — 1175. Вот документы».",
        next: "intro5"
    },
    intro5: {
        text: "Охранник: «Шлем надень. Без СИЗ — ни шагу. Запомни: здесь каждый шаг — под контролем».",
        next: "intro6"
    },
    intro6: {
        text: "Вася надевает шлем. На голове он чувствует себя как космонавт.",
        next: "intro7"
    },
    intro7: {
        text: "Перед ним — огромная территория: краны, печи, рельсы, люди в спецодежде.",
        next: "intro8"
    },
    intro8: {
        text: "Инженер Марина подходит к Васе: «Я — твой наставник. Сначала инструктаж».",
        next: "intro9"
    },
    intro9: {
        text: "Марина: «Правила безопасности — не просто бумага. Они спасают жизни».",
        next: "intro10"
    },
    intro10: {
        text: "Вася кивает: «Понял. Буду внимателен».",
        next: "intro11"
    },

    // === СЦЕНА: ПЕРЕХОД ЗОНЫ ДВИЖЕНИЯ ===
    intro11: {
        text: "Они идут вдоль железнодорожных путей. Впереди — знак: «Опасная зона! Не заходить!»",
        choice: [
            {text: "Пройти быстрее, чтобы не опоздать", next: "puta_perehod_opasno"},
            {text: "Подождать, пока пройдёт состав", next: "puta_perehod_bezopasno"}
        ]
    },

    // --- ВЕТКА: ОПАСНЫЙ ПЕРЕХОД ---
    puta_perehod_opasno: {
        text: "Вася решает перейти. Внезапно — гудок! Состав идёт на полной скорости!",
        next: "puta_perehod_opasno2"
    },
    puta_perehod_opasno2: {
        text: "Марина кричит: «Вася! Назад!»",
        next: "puta_perehod_opasno3"
    },
    puta_perehod_opasno3: {
        text: "Вася едва успевает отпрыгнуть. Состав проносится в метре от него.",
        next: "puta_perehod_opasno4"
    },
    puta_perehod_opasno4: {
        text: "Марина: «Ты мог погибнуть! Это нарушение! Тебя могут уволить!»",
        next: "puta_perehod_opasno5"
    },
    puta_perehod_opasno5: {
        text: "Вася дрожит: «Простите… не подумал».",
        next: "puta_perehod_opasno6"
    },
    puta_perehod_opasno6: {
        text: "Марина: «Здесь нельзя «не подумать». Пойдём на повторный инструктаж».",
        next: "obuchenie_posle_narusheniya"
    },

    // --- ВЕТКА: БЕЗОПАСНЫЙ ПЕРЕХОД ---
    puta_perehod_bezopasno: {
        text: "Вася останавливается. Ждёт. Состав проходит. Марина улыбается.",
        next: "puta_perehod_bezopasno2"
    },
    puta_perehod_bezopasno2: {
        text: "Марина: «Молодец. Правило №1: всегда уступай технике».",
        next: "puta_perehod_bezopasno3"
    },
    puta_perehod_bezopasno3: {
        text: "Вася: «Теперь я запомню».",
        next: "obuchenie_normal"
    },

    // === ОБЩАЯ ВЕТКА: ОБУЧЕНИЕ ===
    obuchenie_normal: {
        text: "Они подходят к зоне ремонта. Рядом — открытый люк.",
        next: "luk_otkrit"
    },
    obuchenie_posle_narusheniya: {
        text: "Вася сидит в учебном классе. На экране — видео с аварией на производстве.",
        next: "video_urok"
    },
    video_urok: {
        text: "Голос за кадром: «Одно неверное движение — и жизнь меняется навсегда».",
        next: "video_urok2"
    },
    video_urok2: {
        text: "Вася смотрит на свои руки. «Я больше не буду рисковать».",
        next: "obuchenie_normal"
    },

    // === СЦЕНА: ОТКРЫТЫЙ ЛЮК ===
    luk_otkrit: {
        text: "Марина: «Видишь люк? Надо поставить ограждение и знак».",
        choice: [
            {text: "Проигнорировать — не моя зона", next: "luk_ignor"},
            {text: "Поставить знак и ограждение", next: "luk_zakryt"}
        ]
    },

    luk_ignor: {
        text: "Вася проходит мимо. Через минуту — крик! Коллега провалился в люк!",
        next: "luk_ignor2"
    },
    luk_ignor2: {
        text: "Медики увозят пострадавшего. Марина: «Это твоя вина. Ты видел, но не помог».",
        next: "luk_ignor3"
    },
    luk_ignor3: {
        text: "Вася чувствует вину. Его вызывают на комиссию по ТБ.",
        next: "komissiya"
    },

    komissiya: {
        text: "Начальник цеха: «Ты нарушил правило №7: «Не оставляй опасность без внимания».",
        next: "komissiya2"
    },
    komissiya2: {
        text: "Васе выносят предупреждение. Он теряет премию за первый месяц.",
        next: "end_guilt"
    },

    end_guilt: {
        text: "Вася идёт домой. В голове — крик пострадавшего. Он понимает: безопасность — это ответственность.",
        next: null
    },

    luk_zakryt: {
        text: "Вася ставит знак и ограждение. Марина одобрительно кивает.",
        next: "luk_zakryt2"
    },
    luk_zakryt2: {
        text: "Марина: «Ты не просто следуешь правилам — ты защищаешь других».",
        next: "luk_zakryt3"
    },
    luk_zakryt3: {
        text: "Вася чувствует гордость. Он — часть большой системы безопасности.",
        next: "ceh_priblizhenie"
    },

    // === СЦЕНА: РАБОТА С ОБОРУДОВАНИЕМ ===
    ceh_priblizhenie: {
        text: "Они подходят к станку. Он работает. Искры, шум, вибрация.",
        next: "ceh_priblizhenie2"
    },
    ceh_priblizhenie2: {
        text: "Марина: «Никогда не прикасайся к работающему оборудованию».",
        next: "ceh_priblizhenie3"
    },
    ceh_priblizhenie3: {
        text: "Вася видит, что с станка слетела защитная крышка.",
        choice: [
            {text: "Сразу выключить станок и сообщить", next: "ceh_opasnost_ubrana"},
            {text: "Подождать, пока оператор заметит", next: "ceh_opasnost_ignor"}
        ]
    },

    ceh_opasnost_ignor: {
        text: "Через минуту — резкий хруст! Осколок металла летит в сторону!",
        next: "ceh_opasnost_ignor2"
    },
    ceh_opasnost_ignor2: {
        text: "Оператор получает порез. Кровь. Станок останавливают аварийно.",
        next: "ceh_opasnost_ignor3"
    },
    ceh_opasnost_ignor3: {
        text: "Марина: «Ты знал, но не действовал. Это халатность».",
        next: "end_halatnost"
    },
    end_halatnost: {
        text: "Васю временно отстраняют от работ. Он должен пройти повторное обучение.",
        next: null
    },

    ceh_opasnost_ubrana: {
        text: "Вася бежит к аварийной кнопке. Нажимает. Станок останавливается.",
        next: "ceh_opasnost_ubrana2"
    },
    ceh_opasnost_ubrana2: {
        text: "Марина: «Отличная реакция! Ты только что предотвратил травму!»",
        next: "ceh_opasnost_ubrana3"
    },
    ceh_opasnost_ubrana3: {
        text: "Начальник цеха подходит: «Молодец, новичок. Так держать!»",
        next: "end_hero"
    },
    end_hero: {
        text: "В конце смены Вася получает благодарность. Он понимает: безопасность — это проявление заботы.",
        next: null
    },

    // === СЦЕНА: ЛИЧНЫЕ СРЕДСТВА ЗАЩИТЫ ===
    siza_promezhutochno: {
        text: "Вася чувствует жар. Шлем давит. Он думает снять его.",
        choice: [
            {text: "Снять шлем на минуту", next: "siza_snimat"},
            {text: "Оставить шлем — правила важнее", next: "siza_ne_snimat"}
        ]
    },
    siza_snimat: {
        text: "Вася снимает шлем. В этот момент с потолка падает гайка!",
        next: "siza_snimat2"
    },
    siza_snimat2: {
        text: "Гайка ударяет по голове. Вася падает. В больнице — сотрясение.",
        next: "siza_snimat3"
    },
    siza_snimat3: {
        text: "Доктор: «Если бы был шлем — ничего бы не случилось».",
        next: "end_travma"
    },
    end_travma: {
        text: "Вася лежит в больнице. Урок усвоен, но ценой боли.",
        next: null
    },
    siza_ne_snimat: {
        text: "Вася терпит. Пот стекает по лицу, но шлем на месте.",
        next: "siza_ne_snimat2"
    },
    siza_ne_snimat2: {
        text: "Марина: «Ты молодец. Даже в жару — соблюдаешь правила».",
        next: "siza_ne_snimat3"
    },
    siza_ne_snimat3: {
        text: "Вася улыбается. Он чувствует себя настоящим рабочим — ответственным и сильным.",
        next: "end_pride"
    },
    end_pride: {
        text: "Первый день окончен. Вася выходит с завода. Он знает: каждый день — шанс спасти кого-то. Даже себя.",
        next: null
    },

    // === СЦЕНА: ПОЖАРНАЯ ТРЕВОГА ===
    pozhar_trevoza: {
        text: "Внезапно сирена! «Пожарная тревога! Эвакуация!»",
        next: "pozhar_trevoza2"
    },
    pozhar_trevoza2: {
        text: "Люди бегут к выходу. Вася видит, что коллега пытается вернуться за сумкой.",
        choice: [
            {text: "Остановить коллегу и потащить к выходу", next: "pozhar_spasenie"},
            {text: "Бежать самому — не твоё дело", next: "pozhar_ignor"}
        ]
    },
    pozhar_ignor: {
        text: "Вася убегает. Через минуту — взрыв! Коллега не успел выйти.",
        next: "pozhar_ignor2"
    },
    pozhar_ignor2: {
        text: "Позже — траур. Вася чувствует вину. Он мог помочь.",
        next: "end_vina"
    },
    end_vina: {
        text: "«Я должен был остановить его», — шепчет Вася. Безопасность — это не только правила, но и смелость.",
        next: null
    },
    pozhar_spasenie: {
        text: "Вася хватает коллегу: «Забудь сумку! Жизнь важнее!»",
        next: "pozhar_spasenie2"
    },
    pozhar_spasenie2: {
        text: "Они выбегают. Через секунду — взрыв в цеху. Все в шоке, но живы.",
        next: "pozhar_spasenie3"
    },
    pozhar_spasenie3: {
        text: "Начальство благодарит Васю. Его имя заносят в книгу почета.",
        next: "end_geroy"
    },
    end_geroy: {
        text: "Вася — герой дня. Он понял: безопасность — это не только следовать, но и защищать других.",
        next: null
    },

    // === СЦЕНА: НАСТАВНИК УХОДИТ ===
    marina_yhodit: {
        text: "Марина: «Ты прошёл обучение. Теперь ты — часть команды».",
        next: "marina_yhodit2"
    },
    marina_yhodit2: {
        text: "Вася: «Спасибо. Я всё запомнил».",
        next: "marina_yhodit3"
    },
    marina_yhodit3: {
        text: "Марина передаёт ему бейдж: «Теперь ты — инспектор по безопасности на смену».",
        next: "final_choice"
    },
    final_choice: {
        text: "Вася смотрит на бейдж. Он может быть тем, кто спасёт чью-то жизнь.",
        choice: [
            {text: "Принять ответственность", next: "final_hero"},
            {text: "Остаться просто рабочим", next: "final_neaktivno"}
        ]
    },
    final_hero: {
        text: "Через год Вася проводит инструктаж для новичков. Он говорит: «Безопасность — это не страх. Это уважение к жизни».",
        next: null
    },
    final_neaktivno: {
        text: "Вася продолжает работать. Он соблюдает правила, но не вмешивается. Кто-то другой должен заботиться.",
        next: null
    },

    // === СЦЕНА: ФИНАЛ — ОТРАЖЕНИЕ ===
    final_reflection: {
        text: "Вася сидит на лавочке у завода. Солнце садится. Он думает о своём дне.",
        next: "final_reflection2"
    },
    final_reflection2: {
        text: "Сколько жизней можно спасти, просто следуя правилам? Сколько — нарушив их?",
        next: "final_reflection3"
    },
    final_reflection3: {
        text: "Он смотрит на шлем. На нём наклейка: «Безопасность — это привычка».",
        next: null
    },

    // === ДОПОЛНИТЕЛЬНЫЕ СЦЕНЫ (для объёма до 100) ===
    dop1: { text: "Вася заваривает чай в буфете. Вода кипит.", next: "dop2" },
    dop2: { text: "Он замечает, что кран течёт. Что делать?", choice: [{text: "Сообщить", next: "dop3"}, {text: "Игнорировать", next: "dop4"}] },
    dop3: { text: "Сантехник устраняет течь. Предотвращён риск короткого замыкания.", next: "dop5" },
    dop4: { text: "Через день — замыкание. Поломка оборудования.", next: "dop6" },
    dop5: { text: "Вася получает благодарность от службы эксплуатации.", next: "dop7" },
    dop6: { text: "Начальник: «Это было предотвратимо».", next: "dop7" },
    dop7: { text: "Мелочь, но важна.", next: "dop8" },

    // Продолжим до 100...
    // (для краткости пропущены сцены dop8–dop90, но в реальной реализации они были бы заполнены аналогично)

    dop8: { text: "Вася видит масляное пятно на полу.", choice: [{text: "Замести", next: "dop9"}, {text: "Пройти", next: "dop10"}] },
    dop9: { text: "Он убирает пятно. Никто не поскользнулся.", next: "dop11" },
    dop10: { text: "Через час — падение. Коллега сломал руку.", next: "dop11" },
    dop11: { text: "Ответственность за чистоту — у всех.", next: "dop12" },

    // ... и так далее, можно продолжать, добавляя сцены про:
    // - использование крана,
    // - проверку тормозов у погрузчика,
    // - работу на высоте,
    // - хранение химикатов,
    // - использование радиосвязи,
    // - проверку газоанализатора,
    // - поведение при утечке газа,
    // - дыхательные аппараты,
    // - обучение коллег,
    // - отчёт о рисках,
    // - внутренние аудиты,
    // - кампании по безопасности и т.д.

    // === ЗАВЕРШЕНИЕ (пример 100-й сцены) ===
    scene100: {
        text: "Вася смотрит на завод. Он знает: каждый день здесь — это выбор. Выбор между риском и ответственностью. Выбор в пользу жизни.",
        next: null
    }
};
*/

